<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸµ Web DJ Pad ğŸµ</title>
  <style>
    body {background: #1a1a2e; color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0;}
    h1 {text-align: center; color: #00d4ff; margin-top: 32px;}
    .panel {display: flex; justify-content: center; gap: 36px; margin: 24px 0;}
    .panel label {display:inline-flex;align-items:center;gap:8px;}
    .grid {display: grid; grid-template-columns: repeat(4,1fr); gap: 20px; max-width: 600px; margin: 0 auto;}
    .pad {background:linear-gradient(145deg,#2a2a3a,#1a1a2a); border-radius:18px; min-height:90px; display:flex;flex-direction:column;align-items:center; justify-content:center; cursor:pointer; font-size:1.4rem; user-select:none; box-shadow:0 8px 25px rgba(0,0,0,0.3); transition:.2s;}
    .pad:active {background:linear-gradient(145deg,#00d4ff,#ff4081);}
    .pad-label {font-size:1rem; margin-top:4px;}
    .mode-btn {padding:8px 18px; border:none; border-radius:12px; margin:0 2px; cursor:pointer; background:#222; color:#eee;}
    .mode-btn.active {background:linear-gradient(45deg,#00d4ff,#ff4081); color:#fff;}
    .volume-slider {width:120px;}
  </style>
</head>
<body>
  <h1>ğŸµ Web DJ Pad ğŸµ</h1>
  <div class="panel">
    <label>ğŸ”Š éŸ³é‡ <input type="range" id="volume" class="volume-slider" min="0" max="100" value="80"></label>
    <label>æ¨¡å¼
      <button class="mode-btn active" data-mode="normal">æ¨™æº–</button>
      <button class="mode-btn" data-mode="loop">å¾ªç’°</button>
      <button class="mode-btn" data-mode="oneshot">å–®æ¬¡</button>
    </label>
  </div>
  <div class="grid" id="padGrid"></div>
  <script>
    // Pad éµé † & æª”åé †åºå¿…é ˆå°é½Š
    const padKeys = ["1","2","3","4","A","C","D","E","F","Q","R","S","V","W","X","Z"];
    const soundFiles = [
      "1_è¦ªæ„›çš„.mp3",
      "2_ç¤ºæ„åœè»Š.mp3",
      "3_å»æ´ªå¹¹å¹¹æ¬¸.mp3",
      "4_DAMN.mp3",
      "A_For Elise(Oiiai).mp3",
      "C_Dj Airhorn.mp3",
      "D_æ˜ŸæœŸäº”æ™šä¸Š.mp3",
      "E_é»‘é»‘é»‘é»‘.mp3",
      "F_è«‹æ”¯æ´æ”¶éŠ€.mp3",
      "Q_John Cena.mp3",
      "R_é˜¿çæ„›ä¸Šäº†é˜¿å¼·.mp3",
      "S_Young Black&Rich.mp3",
      "V_å‰æ–¹è»Šè¼›è«‹å‘å³é¿è®“.mp3",
      "W_ç‹è€å…ˆç”Ÿæœ‰å¡Šåœ°.mp3",
      "X_Airhorn.mp3",
      "Z_æ–°å¹¹ç·šã‚¨ã‚¢ãƒ›ãƒ¼ãƒ³.mp3"
    ];
    function getPadLabel(fname) {
      let m = fname.match(/_(.+)\.\w+$/);
      return m ? m[1] : fname.replace(/\.\w+$/, '');
    }
    let playMode = "normal", volume = 0.8, activeAudios = {};
    document.getElementById('volume').oninput = e => volume = e.target.value / 100;
    document.querySelectorAll('.mode-btn').forEach(btn => {
      btn.onclick = () => {
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        playMode = btn.dataset.mode;
      }
    });
    const padGrid = document.getElementById('padGrid');
    padKeys.forEach((key, idx) => {
      const fname = soundFiles[idx];
      const pad = document.createElement('div');
      pad.className = "pad";
      pad.tabIndex = 0;
      pad.innerHTML = `<strong>${key}</strong><div class="pad-label">${getPadLabel(fname)}</div>`;
      pad.onclick = () => playPad(key, 'audio/' + fname, idx);
      padGrid.appendChild(pad);
    });
    function playPad(key, file, idx){
      if(playMode==="oneshot") stopAllPads();
      if(playMode==="loop" && activeAudios[key]){
        stopPad(key); return;
      }
      stopPad(key);
      const pad = padGrid.children[idx];
      pad.classList.add('active');
      const audio = new Audio(file);
      audio.volume = volume;
      audio.onended = () => { pad.classList.remove('active'); delete activeAudios[key];};
      if(playMode==="loop") audio.loop = true;
      activeAudios[key]=audio;
      audio.play();
    }
    function stopPad(key){
      if(activeAudios[key]){
        activeAudios[key].pause();
        activeAudios[key].currentTime = 0;
        delete activeAudios[key];
      }
      Array.from(padGrid.children).forEach(pad=>{
        if(pad.querySelector("strong").textContent===key) pad.classList.remove('active');
      });
    }
    function stopAllPads(){ Object.keys(activeAudios).forEach(stopPad);}
    document.addEventListener('keydown', e=>{
      const key = e.key.toUpperCase();
      const idx = padKeys.indexOf(key);
      if(idx>=0) playPad(key, 'audio/' + soundFiles[idx], idx);
      if(e.code==="Space") stopAllPads();
      if(idx>=0 && (e.ctrlKey||e.metaKey)) stopPad(key);
    });
  </script>
</body>
</html>